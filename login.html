<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login - CRM Vendas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#f4f6f8;color:#333}
.container{max-width:400px;margin:auto;padding:16px;}
h1{margin-bottom:16px;text-align:center;}
input,button{width:100%;padding:12px;margin:8px 0;border-radius:8px;font-size:16px;}
button{background:#1976d2;color:white;border:none;cursor:pointer;}
button:active{background:#125aa0;}
a{color:#1976d2;text-decoration:none;}
a:hover{text-decoration:underline;}
</style>
</head>
<body>
<div class="container">
<h1>Login</h1>
<input type="email" id="email" placeholder="Email" required>
<input type="password" id="senha" placeholder="Senha" required>
<button id="btnLogin">Entrar</button>
<p><a href="cadastro.html">Criar conta</a> | <a href="recuperar.html">Esqueci a senha</a></p>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBlB4NN_lTrWv4sJ1PKp2m0YjoVADnIeHk",
  authDomain: "crm-vendas-43b6b.firebaseapp.com",
  projectId: "crm-vendas-43b6b",
  storageBucket: "crm-vendas-43b6b.firebasestorage.app",
  messagingSenderId: "645002761099",
  appId: "1:645002761099:web:f194f70c351d1074ac158e"
};
  
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Verifica se já está logado
onAuthStateChanged(auth,user=>{
    if(user) window.location.href="index.html";
});

document.getElementById("btnLogin").addEventListener("click",async()=>{
    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;
    try{
        await signInWithEmailAndPassword(auth,email,senha);
        window.location.href="index.html";
    }catch(err){
        alert(err.message);
    }
});
</script>
</div>
</body>
</html>
